@model AnThinhPhat.ViewModel.News.AddNewsViewModel

@{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

@if (ViewBag.HasError != null && ViewBag.HasError)
{
    <div class="alert alert-danger" role="alert" id="danger-alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        <strong>Thất bại!</strong>
        Thêm mới tin tức/sự kiện không thành công
    </div>
}

@using (Html.BeginForm("Add", "News", null, FormMethod.Post, htmlAttributes: new { enctype = "multipart/form-data" }))
{
    <div class="form-horizontal">
        <div class="form-group">
            <label>Tiêu đề<span class="required">*</span></label>
            <div>
                @Html.TextBoxFor(x => Model.Title, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(x => Model.Title)
            </div>
        </div>
        <div class="form-group">
            <label>Nội dung<span class="required">*</span></label>
            <div>
                @Html.EditorFor(x => Model.Content)
                @*@Html.ValidationMessageFor(x => Model.Content)*@
            </div>
        </div>
        <div class="form-group">
            <label>Tóm tắt<span class="required">*</span></label>
            <div>
                @Html.TextAreaFor(x => Model.Summary, htmlAttributes: new { @class = "form-control", rows = 3 })
                @Html.ValidationMessageFor(x => Model.Summary)
            </div>
        </div>
        <div class="form-group">
            <label>Lĩnh vực tin tức/sự kiện<span class="required">*</span></label>
            <div>
                @Html.DropDownListFor(x => Model.NewsCategoryId, new SelectList(Model.NewsCategory, "Id", "Name"), "Lĩnh vực tin tức/sự kiện", htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(x => Model.NewsCategoryId)
            </div>
        </div>

        <div class="form-group">
            <label>Chọn hình ảnh</label>
            <div>
                <input type="file" id="filesUpload" class="form-control btn btn-info pull-left" style="max-width:300px;" name="file" />
            </div>
        </div>
        <div class="form-group">
            <input type="submit" class="btn btn-primary btn-width-md" id="btnSubmit" name="btnSubmit" value="Thêm mới">
            <input type="button" class="btn btn-default btn-width-md" id="btnCancel" name="btnSubmit" value="Hủy bỏ">
        </div>
    </div>
}

@section scripts{
    <script>
        $(document).ready(function () {
            $('#btnCancel').on('click', function () {
                $('input[type="text"]').val('');
                $('textarea').val('');
            });
        });
    </script>
}